<%= form_for @refresh_request, remote: true, :html => { :class => "form-horizontal refresh_request", style: "display:inline;"} do |f| %>

    <div class="modal-body">
      <% if @refresh_request.errors.any? %>
      <div id="error_expl" class="panel panel-danger">
        <div class="panel-heading">
          <h3 class="panel-title"><%= pluralize(@refresh_request.errors.count, "error") %> prohibited this app from being saved:</h3>
        </div>
        <div class="panel-body">
          <ul>
          <% @refresh_request.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      </div>
    <% end %>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.datepicker').datepicker({
          todayBtn: "linked",
          clearBtn: true,
          language: "en-GB",
          calendarWeeks: true,
          autoclose: true,
          todayHighlight: true,
          format: 'dd-mm-yyyy'
        });
      });
    </script>


    <!-- Environmnt -->
    <div class="control-group">
      <%= f.label :env_id, :class => 'control-label' %>
      <%= f.select(:env_id, @env_map, {include_blank: true}, { :class => 'form-control input-sm' }) %>
      <%= error_span(@refresh_request[:env_id]) %>
    </div>

    <!-- App -->
    <div class="control-group">
      <%= f.label :app_id, :class => 'control-label' %>
      <%= f.select(:app_id, @app_map, {include_blank: false}, { :class => 'form-control input-sm'}) %>
      <%= error_span(@refresh_request[:app_id]) %>
    </div>


    <!-- Status -->
    <div class="control-group">
      <%= f.label :status, :class => 'control-label' %>
      <%= f.select(:status, @statuses, {include_blank: false}, { :class => 'form-control input-sm'}) %>
      <%= error_span(@refresh_request[:refresh_date]) %>
    </div>

    <!-- Notes -->
    <div class="control-group">
      <%= f.label :notes, :class => 'control-label' %>
      <%= f.text_area :notes, :value => @refresh_request.notes, :class => 'form-control input-sm datepicker', :rows => 5 %>
      <%= error_span(@refresh_request[:refresh_date]) %>
    </div>

    <!-- Refresh Date -->
    <div class="control-group">
      <%= f.label :refresh_date, :class => 'control-label' %>
      <%= f.text_field :refresh_date, :value => @refresh_request.refresh_date.strftime('%d-%m-%Y'), :class => 'form-control input-sm datepicker' %>
      <%= error_span(@refresh_request[:refresh_date]) %>
    </div>


  </div>

  <div class="modal-footer">
    <%= f.submit nil, :class => 'btn btn-primary' %>
    <%= link_to "Cancel", "#", class: "btn", data: {dismiss: "modal"} %>
  </div>

<% end %>
